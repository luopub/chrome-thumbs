<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>生成扩展图标</title>
</head>
<body>
  <h1>Chrome扩展图标生成器</h1>
  <p>点击下面的按钮下载不同尺寸的图标，然后保存到images文件夹中：</p>
  
  <canvas id="iconCanvas" width="128" height="128"></canvas>
  
  <div>
    <button id="download16">下载 16x16</button>
    <button id="download32">下载 32x32</button>
    <button id="download48">下载 48x48</button>
    <button id="download128">下载 128x128</button>
  </div>
  
  <script>
    const canvas = document.getElementById('iconCanvas');
    const ctx = canvas.getContext('2d');
    
    // 绘制一个简单的图标
    function drawIcon(size) {
      canvas.width = size;
      canvas.height = size;
      
      // 清空画布
      ctx.clearRect(0, 0, size, size);
      
      // 绘制背景
      ctx.fillStyle = '#4285f4';
      ctx.fillRect(0, 0, size, size);
      
      // 绘制白色矩形代表浏览器窗口
      ctx.fillStyle = 'white';
      const rectSize = size * 0.6;
      const rectX = (size - rectSize) / 2;
      const rectY = (size - rectSize) / 2;
      ctx.fillRect(rectX, rectY, rectSize, rectSize);
      
      // 绘制小矩形代表标签页
      ctx.fillStyle = '#4285f4';
      const tabWidth = size * 0.3;
      const tabHeight = size * 0.1;
      const tabX = rectX;
      const tabY = rectY;
      ctx.fillRect(tabX, tabY, tabWidth, tabHeight);
      
      // 绘制小圆点代表缩略图
      const dotSize = size * 0.08;
      const dotSpacing = size * 0.15;
      const startX = rectX + size * 0.15;
      const startY = rectY + size * 0.25;
      
      for (let i = 0; i < 2; i++) {
        for (let j = 0; j < 2; j++) {
          ctx.beginPath();
          ctx.arc(
            startX + i * dotSpacing,
            startY + j * dotSpacing,
            dotSize / 2,
            0,
            2 * Math.PI
          );
          ctx.fill();
        }
      }
    }
    
    // 初始绘制
    drawIcon(128);
    
    // 下载函数
    function downloadIcon(size) {
      drawIcon(size);
      const link = document.createElement('a');
      link.download = `icon${size}.png`;
      link.href = canvas.toDataURL();
      link.click();
    }
    
    // 绑定按钮事件
    document.getElementById('download16').addEventListener('click', () => downloadIcon(16));
    document.getElementById('download32').addEventListener('click', () => downloadIcon(32));
    document.getElementById('download48').addEventListener('click', () => downloadIcon(48));
    document.getElementById('download128').addEventListener('click', () => downloadIcon(128));
  </script>
</body>
</html>